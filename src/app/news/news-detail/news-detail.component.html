<div *ngIf="newsDetail" class="news-detail-wrapper">
    <h2>{{newsDetail.title}}</h2>
    <p class="news-content">{{newsDetail.content}}</p>
    <p class="news-date">{{newsDetail.createdOn}}</p>
    <p class="news-author">{{newsDetail.createdBy.name}} {{newsDetail.createdBy.surname}}</p>
    <div>
        <button *ngIf="userId === newsDetail.createdById && userId" (click)="deleteNews(newsDetail.id)">DELETE ARTICLE</button>
    </div>
    <form class="comment-form" *ngIf="userId !== undefined" #commentForm="ngForm" (ngSubmit)="commentHandler(commentForm, newsDetail.id)">
        <div class="form-group">
            <textarea #commentInput="ngModel" type="text" name="comment" id="comment" placeholder="Leave a comment"
                ngModel required></textarea>
            <div *ngIf="commentInput.touched && commentInput.errors?.required" class="validator-error"></div>
        </div>
        <div>
            <button><i class="far fa-comment"></i> Comment</button>
        </div>
    </form>
    <div *ngIf="newsDetail.comments" class="news-comments">
        <div *ngFor="let comment of newsDetail.comments">
            <div class="comment-wrapper">
                <p class="comment-content">{{comment.content}}</p>
                <span>{{comment.authorName}} {{comment.authorSurname}}</span>
                <span>{{comment.createdOn}}</span>
                <button *ngIf="comment.authorId == userId" (click)="deleteComment(comment.id, newsDetail.id, userId)">DELETE</button>
            </div>
        </div>
    </div>
    <div *ngIf="!newsDetail">Please wait while we load this news article.</div>
    <button type="button" routerLink="/recent-news">Back to recent news</button>
</div>